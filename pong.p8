pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
ballx = 64
bally = 32
ballsize = 3
ballxdir = 2
ballydir = 2
padx = 53
pady = 122
padw = 24
padh = 4
score = 0
lives = 3
colpad = 15
colball = 15
colzone = 3
colscore1 = 15
colscore2 = 15

function movepaddle()
	if btn(0) then
		padx -= 3
	elseif btn(1) then
		padx += 3
	end
end

function moveball()
	ballx += ballxdir
	bally += ballydir
end

function bounceball()
	change = rnd(40)
	change += 80
	change = -(change/100)
 --gauche
 if ballx < ballsize then
 	ballxdir =change*ballxdir
 	sfx(0)
 	colball= rnd(15)
 end
 --droite
 if ballx > 128-ballsize then
 	ballxdir =change*ballxdir
 	sfx(0)
	 colball= rnd(15)
 end
 --haut
 if bally < ballsize then
 	ballydir =change*ballydir
 	sfx(0)
	 colball= rnd(15)
 end
end

function bouncepaddle()
	if ballx >= padx and ballx <= padx+padw and bally > pady then
		sfx(1)
		ballydir =- ballydir
		score += 10
		colball= rnd(15)
		colpad= rnd(15)
		colzone= rnd(15)
		colscore1= rnd(15)
		colscore2= rnd(15)
	end
end

function loseball()
	if bally > 128 then
		sfx(2)
		bally = 24
		lives -= 1
	end
end

function _update()
	if lives>0 then
		movepaddle()
		moveball()
		bounceball()
		bouncepaddle()
		loseball()
	end
end

function _draw()
	rectfill(0, 0, 128, 128, colzone)
	print(score, 12, 6, colscore1)
	print(lives, 100, 6, colscore2)
	rectfill(padx, pady, padx+padw, pady+padh, colpad)
	circfill(ballx, bally, ballsize, colball)
end

__gfx__
00000000088008800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700088888800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000008888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000400000000000000000000000000000000000000000000000300003000030000300000000050000500005000050000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000040000700000000020000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000
